#include <nos/pic.h>

#include <stdint.h>

#include <nos/ioport.h>

void
pic_setup()
{
  outb(0x20, 0x11);
  outb(0x21, 0x20);
  outb(0x21, 0x04);
  outb(0x21, 0x01);

  outb(0xa0, 0x11);
  outb(0xa1, 0x28);
  outb(0xa1, 0x02);
  outb(0xa1, 0x01);

  // 打开所有 IRQ 中断
  outb(0x20, 0x0);
  outb(0xa0, 0x0);
}
